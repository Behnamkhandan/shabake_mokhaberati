# کدهای تصحیح خطای تکرار (Repetition Codes)
## درس شبکه‌های مخابراتی

---

## 1. مقدمه
در سیستم‌های مخابراتی، داده‌ها در طول کانال‌های مخابراتی با نویز و اختلال مواجه می‌شوند که می‌تواند باعث ایجاد خطا در دریافت اطلاعات شود. **کدهای تصحیح خطا (Error Correction Codes)** برای تشخیص و تصحیح این خطاها استفاده می‌شوند. یکی از ساده‌ترین و قابل‌فهم‌ترین روش‌ها، **کدهای تکرار (Repetition Codes)** هستند.

---

## 2. اصول کلی کدهای تکرار
### 2.1. تعریف
در کد تکرار، هر بیت اطلاعات (یا هر نماد) به تعداد فرد `n` بار تکرار می‌شود. فرستنده هر بیت داده را `n` بار ارسال می‌کند و گیرنده با استفاده از قانون **اکثریت (Majority Voting)**، بیت اصلی را استخراج می‌کند.

### 2.2. نمادگذاری
- **کد تکرار nتایی**:
  - اگر بیت اطلاعات `0` باشد، دنباله‌ی `000...0` (به طول `n`) ارسال می‌شود.
  - اگر بیت اطلاعات `1` باشد، دنباله‌ی `111...1` (به طول `n`) ارسال می‌شود.
- مثال:
  - کد تکرار ۳تایی:
    - `0 → 000`
    - `1 → 111`

---

## 3. عملکرد کدهای تکرار
### 3.1. فرآیند کدگذاری (Encoding)
ورودی: یک بیت اطلاعات `d ∈ {0, 1}`
خروجی: یک بلوک `n` بیتی به صورت `d d d ... d`

### 3.2. انتقال از کانال نویزی
بلوک ارسالی ممکن است در کانال دچار خطا شود. احتمال خطای بیت در کانال را `p` فرض می‌کنیم.

### 3.3. فرآیند تصحیح خطا (Decoding)
گیرنده هر بلوک `n` بیتی را دریافت می‌کند و تصمیم می‌گیرد که کدام بیت (۰ یا ۱) بیشترین تکرار را داشته است (قانون اکثریت).
- برای `n` فرد، اگر تعداد بیت‌های ۱ بیشتر از `n/2` باشد، خروجی ۱ است، در غیر این صورت ۰.
- اگر تعداد خطاها کمتر از `⌊n/2⌋` باشد، خطا تصحیح می‌شود.

---

## 4. مثال عملی
### 4.1. کد تکرار ۳تایی (n=3)
- اطلاعات اصلی: `1`
- کد شده: `111`
- دریافت ممکن: `101` (یک خطا در بیت دوم)
- دیکد کردن: شمارش بیت‌ها:
  - تعداد ۱‌ها: ۲
  - تعداد ۰‌ها: ۱
  - تصمیم اکثریت: `1` ✅

### 4.2. تحلیل خطا
- اگر بیش از یک خطا رخ دهد (مثلاً `011`)، تصمیم اکثریت به نفع ۰ خواهد بود و خطا تصحیح نمی‌شود (خطای دیکدینگ).

---

## 5. محاسبه احتمال خطای دیکدینگ
### 5.1. مدل کانال
کانال باینری متقارن (BSC) با احتمال خطای بیت `p`.

### 5.2. احتمال خطا برای کد تکرار nتایی (n فرد)
خطای دیکدینگ زمانی رخ می‌دهد که **بیش از n/2 بیت** در بلوک `n` بیتی دچار خطا شوند.

```
P_err = ∑_(k=⌈n/2⌉)^n [C(n,k) × p^k × (1-p)^(n-k)]
```

که در آن `C(n,k)` ضریب دوجمله‌ای است.

### 5.3. مثال برای n=3:
```
P_err = C(3,2) × p^2 × (1-p) + C(3,3) × p^3
      = 3 × p^2 × (1-p) + p^3
```

اگر `p=0.01`:
```
P_err ≈ 3 × (0.0001) × 0.99 + 0.000001 ≈ 0.000298
```

در حالی که بدون کدگذاری، احتمال خطا `0.01` بود.

---

## 6. نرخ کد (Code Rate)
نرخ کد `R` نسبت طول داده‌ی اطلاعاتی به طول کل کد ارسالی است:

```
R = k/n = 1/n
```

- برای `n=3`: `R = 1/3`.
- **مقایسه**: هرچه `n` بزرگ‌تر، قابلیت تصحیح خطا بهتر اما نرخ کد کمتر (کارایی کمتر).

---

## 7. مزایا و معایب
### 7.1. مزایا:
- ساده در فهم و پیاده‌سازی
- مناسب برای کانال‌هایی با خطای کم
- پایه‌ای برای درک مفاهیم کدهای تصحیح خطا

### 7.2. معایب:
- نرخ کد بسیار پایین (کارایی طیفی کم)
- فقط خطاهای تکی را در بلوک‌های کوچک تصحیح می‌کند
- در برابر خطاهای burst (دسته‌ای) مقاوم نیست

---

## 8. کاربردها
- سیستم‌های ساده‌ی ارتباطی با نیاز به قابلیت اطمینان پایه
- به عنوان زیرسیستم در ترکیب با کدهای دیگر
- آموزش مفاهیم پایه‌ی کدگذاری در دروس مخابرات

---

## 9. جمع‌بندی
کدهای تکرار، ساده‌ترین شکل کدهای بلوکی برای تصحیح خطا هستند و با تکرار هر بیت و استفاده از قانون اکثریت عمل می‌کنند. اگرچه از نظر کارایی طیفی بهینه نیستند، اما درک آن‌ها برای ورود به مبحث کدهای پیشرفته‌تر مانند **کدهای هامینگ** و **کدهای کانوولوشن** ضروری است.

---

## 10. منابع برای مطالعه بیشتر
- کتاب "Error Control Coding" توسط Shu Lin و Daniel J. Costello
- کتاب "Digital Communications" توسط John G. Proakis
- درس‌نامه‌های دانشگاهی شبکه‌های مخابراتی و کدگذاری

---

*
